flowchart TD
    classDef function fill:#c6d22c
    classDef condition fill:#7cb2de
    classDef state fill:#fcb415
    classDef error fill:#FF999C

    B((Idle)):::state -->C{Duration
    == 0?}:::condition
    C -- No --> E{Duration
    < 0?}:::condition
    C -- Yes --> D[Error: Incorrect
    command parameter]:::error
    D -->B
    E -- Yes --> G[playing]:::function
    G --> H((Running)):::state
    H --> H
    E -- No --> F[playing]:::function
    F --> I((Running)):::state
    I --> J{Duration
    expired?}:::condition
    J -- No -->I
    J -- Yes --> B